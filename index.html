<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SpawnEngine · Mesh HUD v0.3</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="app-body">
  <div id="mesh-bg-canvas-wrap">
    <canvas id="mesh-bg-canvas"></canvas>
  </div>

  <div class="app-shell">
    <!-- HEADER CARD -->
    <header class="hud-card hud-header">
      <div class="hud-header-top">
        <div class="hud-profile">
          <div class="hud-avatar">
            <span>S</span>
          </div>
          <div class="hud-profile-copy">
            <div class="hud-handle">@spawniz</div>
            <div class="hud-sub">Mesh ID · Creator</div>
          </div>
        </div>
        <button id="btn-account" class="icon-btn" aria-label="Account">
          <span class="icon-face">☺</span>
        </button>
      </div>

      <div class="hud-header-tags">
        <span class="pill pill-soft">Base · Mesh ecosystems</span>
        <span class="pill pill-outline">Farcaster ready</span>
        <span class="pill pill-status">
          <span class="dot-online"></span> Mesh v0.3
        </span>
      </div>

      <div class="hud-header-stats">
        <div class="stat-chip">
          <div class="stat-label">GAS</div>
          <div id="gasEstimate" class="stat-value">~0.21 gwei est.</div>
        </div>
        <div class="stat-chip">
          <div class="stat-label">MODE</div>
          <div class="stat-value">Single mesh</div>
        </div>
        <div class="stat-chip">
          <div class="stat-label">SYNC</div>
          <div class="stat-value">Local mock</div>
        </div>
        <div class="stat-chip">
          <div class="stat-label">ACTIVE WALLETS</div>
          <div id="activeWallets" class="stat-value">1</div>
        </div>
      </div>
    </header>

    <!-- TAB NAV -->
    <nav class="hud-nav">
      <button class="nav-btn nav-btn-active" data-tab-target="home">Home</button>
      <button class="nav-btn" data-tab-target="loot">Loot</button>
      <button class="nav-btn" data-tab-target="quests">Quests</button>
      <button class="nav-btn" data-tab-target="mesh">Mesh</button>
      <button class="nav-btn" data-tab-target="support">Support</button>
    </nav>

    <!-- PANELS WRAP -->
    <main class="hud-main">
      <!-- HOME TAB -->
      <section id="tab-home" class="tab-panel tab-panel-active">
        <section class="hud-card">
          <header class="card-header">
            <div>
              <h2 class="card-title">Mesh snapshot</h2>
              <p class="card-sub">Single player mesh</p>
            </div>
          </header>
          <div class="mesh-snapshot-grid">
            <div class="metric-tile">
              <div class="metric-label">XP BALANCE</div>
              <div id="xpBalance" class="metric-value">1575 XP</div>
              <div class="metric-sub">Every onchain action feeds your mesh.</div>
            </div>
            <div class="metric-tile">
              <div class="metric-label">SPAWN TOKEN</div>
              <div id="spawnBalance" class="metric-value">497 SPN</div>
              <div class="metric-sub">Mock balance · demo only.</div>
            </div>
          </div>

          <div class="streak-row">
            <div class="streak-ring">
              <div class="streak-day">
                <span class="streak-day-number" id="streakDays">1</span>
                <span class="streak-day-label">DAY</span>
              </div>
            </div>
            <div class="streak-copy">
              <div class="streak-title">Daily ritual</div>
              <p id="streakCopyText" class="streak-sub">
                Keep the streak for 6 more days for a full weekly run.
              </p>
              <button id="btn-checkin" class="btn-primary btn-small">
                Check-in
              </button>
            </div>
          </div>
        </section>

        <section class="hud-card">
          <header class="card-header">
            <div>
              <h2 class="card-title">Today’s signals</h2>
              <p class="card-sub">Mesh events · last 16 demo actions</p>
            </div>
          </header>
          <ul id="homeActivityList" class="activity-list"></ul>
        </section>
      </section>

      <!-- LOOT TAB -->
      <section id="tab-loot" class="tab-panel">
        <section class="hud-card">
          <header class="card-header">
            <div>
              <h2 class="card-title">Loot & Pull Lab</h2>
              <p class="card-sub">Packs · synthesis · inventory</p>
            </div>
          </header>

          <div class="segmented">
            <button
              class="segmented-btn segmented-btn-active"
              data-loot-view="packs"
            >
              Packs
            </button>
            <button class="segmented-btn" data-loot-view="pullLab">
              Pull Lab
            </button>
            <button class="segmented-btn" data-loot-view="inventory">
              Inventory
            </button>
          </div>

          <!-- Packs view -->
          <div id="lootView-packs" class="loot-view loot-view-active">
            <div class="pack-row">
              <div class="pack-copy">
                <div class="pack-title">Starter mesh pack</div>
                <div class="pack-sub">
                  Demo-only pack aligned to your single-player mesh.
                </div>
              </div>
              <button id="btn-open-pack" class="btn-primary btn-small">
                Open (mock)
              </button>
            </div>
            <ul id="lootEvents" class="activity-list"></ul>
          </div>

          <!-- Pull Lab view -->
          <div id="lootView-pullLab" class="loot-view">
            <p class="card-sub">
              Use fragments and shards to synth a Relic (mock synthesis).
            </p>
            <button id="btn-simulate-synth" class="btn-outline btn-full">
              Run mock synthesis
            </button>
            <p id="labResult" class="lab-result">
              Requires 5 Fragments + 1 Shard (mock).
            </p>
          </div>

          <!-- Inventory view -->
          <div id="lootView-inventory" class="loot-view">
            <div class="inventory-grid">
              <div class="inventory-item">
                <div class="inv-label">Fragments</div>
                <div id="invFragments" class="inv-value">12</div>
              </div>
              <div class="inventory-item">
                <div class="inv-label">Shards</div>
                <div id="invShards" class="inv-value">3</div>
              </div>
              <div class="inventory-item">
                <div class="inv-label">Relics</div>
                <div id="invRelics" class="inv-value">1</div>
              </div>
            </div>
          </div>
        </section>
      </section>

      <!-- QUESTS TAB -->
      <section id="tab-quests" class="tab-panel">
        <section class="hud-card">
          <header class="card-header">
            <div>
              <h2 class="card-title">Quests & streaks</h2>
              <p class="card-sub">
                Complete actions to earn XP in your mesh.
              </p>
            </div>
          </header>
          <ul id="questList" class="quest-list"></ul>
        </section>
      </section>

      <!-- MESH TAB -->
      <section id="tab-mesh" class="tab-panel">
        <section class="hud-card">
          <header class="card-header">
            <div>
              <h2 class="card-title">Mesh overview</h2>
              <p class="card-sub">Creator + collectors demo mesh</p>
            </div>
            <button id="btn-open-full-mesh" class="btn-outline btn-small">
              Open Mesh Explorer
            </button>
          </header>

          <div class="segmented">
            <button
              class="segmented-btn segmented-btn-active"
              data-mesh-mode="alpha"
            >
              Alpha hunters
            </button>
            <button class="segmented-btn" data-mesh-mode="new">
              New creators
            </button>
            <button class="segmented-btn" data-mesh-mode="gravity">
              Gravity clusters
            </button>
          </div>

          <p id="meshModeCopy" class="mesh-mode-copy">
            Viewing mesh demo in <strong>Alpha hunters</strong> mode — wallets
            opening high volumes of packs cluster at the edges.
          </p>

          <div class="mesh-legend">
            <span class="legend-pill legend-pill-coin">Coin flows</span>
            <span class="legend-pill legend-pill-pack">Pack pulls</span>
            <span class="legend-pill legend-pill-burn">Burns</span>
            <span class="legend-pill legend-pill-xp">XP orbits</span>
          </div>

          <ul id="meshEvents" class="activity-list"></ul>
        </section>
      </section>

      <!-- SUPPORT / SUPCAST TAB -->
      <section id="tab-support" class="tab-panel">
        <section class="hud-card">
          <header class="card-header">
            <div>
              <h2 class="card-title">Support · SupCast layer</h2>
              <p class="card-sub">
                Onchain Q&A and expert reputation inside SpawnEngine.
              </p>
            </div>
          </header>

          <p class="card-sub">
            SupCast turns support into a mesh-native XP game. Ask questions
            about packs, games or creators – helpers claim and solve them for
            XP, badges and reputation.
          </p>

          <div class="support-layout">
            <div class="support-column">
              <h3 class="support-title">Ask</h3>
              <p class="support-sub">
                Describe your issue and tag the app, chain and device. Each
                question is linked to real contracts and creator wallets.
              </p>
              <button class="btn-primary btn-full">
                Ask a mesh question (mock)
              </button>
            </div>
            <div class="support-column">
              <h3 class="support-title">Claim & solve</h3>
              <p class="support-sub">
                Browse open questions, claim one, post a fix and earn Support
                XP. Later this links to real SupCast backend.
              </p>
              <button class="btn-outline btn-full">
                View open tickets (mock)
              </button>
            </div>
          </div>

          <div class="support-footer">
            <p class="support-small">
              In SpawnEngine3, SupCast plugs into the XP SDK, leaderboards and
              Farcaster miniapps. Helpers become "mesh experts" with visible
              reputation across Vibe, Zora and Base.
            </p>
          </div>
        </section>
      </section>
    </main>

    <!-- TOAST -->
    <div id="toast" class="toast">Mock toast</div>
  </div>

  <script src="mesh-bg.js"></script>
  <script src="app.js"></script>
</body>
</html>