<!-- app.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SpawnEngine</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="core/ui/role-select.css" />
    <link rel="stylesheet" href="core/ui/layout-tabs.css" />
    <script src="mesh-bg.js" defer></script>
    <script src="spawnengine-sdk.js" type="module"></script>
  </head>
  <body>
    <canvas id="mesh-bg"></canvas>

    <div class="app-container">
      <header class="top-tabs">
        <button class="tab active" onclick="showTab('dashboard')">Dashboard</button>
        <button class="tab" onclick="showTab('forge')">Forge</button>
        <button class="tab" onclick="showTab('worlds')">Worlds</button>
        <button class="tab" onclick="showTab('factory')">Factory</button>
      </header>

      <main>
        <section id="dashboard" class="tab-view active">
          <h1 class="tab-title">SpawnEngine Dashboard</h1>
          <div id="meshFeed" class="mesh-feed"></div>
        </section>

        <section id="forge" class="tab-view">
          <h1 class="tab-title">Nebula Forge</h1>
          <div id="forgePanel" class="forge-panel"></div>
          <div id="forgeTerminal" class="terminal-container"></div>
        </section>

        <section id="worlds" class="tab-view">
          <h1 class="tab-title">World Engine</h1>
          <div id="worldHubView" class="world-hub"></div>
        </section>

        <section id="factory" class="tab-view">
          <h1 class="tab-title">Factory + Miniapps</h1>
          <div id="factoryView"></div>
        </section>
      </main>
    </div>

    <script>
      function showTab(tabId) {
        document.querySelectorAll(".tab").forEach((t) => t.classList.remove("active"));
        document.querySelectorAll(".tab-view").forEach((v) => v.classList.remove("active"));
        document.querySelector(`#${tabId}`).classList.add("active");
        document
          .querySelector(`.tab[onclick="showTab('${tabId}')"]`)
          .classList.add("active");
      }
    </script>
  </body>
</html>