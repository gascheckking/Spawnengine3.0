<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SpawnEngine — Mesh HUD v0.3</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <!-- Glowing mesh background (Venice wallet flow) -->
  <div class="mesh-bg">
    <canvas id="wallet-flow-canvas"></canvas>
  </div>

  <!-- Main app shell -->
  <div class="app-shell">
    <!-- Top status + profile -->
    <header class="app-header">
      <div class="header-left">
        <div class="mesh-avatar">
          <span class="mesh-avatar-initial">S</span>
        </div>
        <div class="mesh-id">
          <div class="mesh-id-label">MESH ID</div>
          <div class="mesh-id-handle">@spawniz</div>
        </div>
      </div>
      <div class="header-right">
        <button class="icon-btn" id="btn-profile">
          <span class="icon-circle"></span>
        </button>
        <button class="icon-btn" id="btn-menu">
          <span class="icon-bars"></span>
        </button>
      </div>
    </header>

    <!-- Compact status row (Gemini suggestion) -->
    <div class="status-strip">
      <div class="status-pill">
        <span class="status-label">GAS</span>
        <span class="status-value" id="status-gas">~0.21 gwei est.</span>
      </div>
      <div class="status-pill">
        <span class="status-label">MODE</span>
        <span class="status-value">Single mesh</span>
      </div>
      <div class="status-pill">
        <span class="status-label">SYNC</span>
        <span class="status-value" id="status-sync">Local mock</span>
      </div>
      <div class="status-pill">
        <span class="status-label">ACTIVE</span>
        <span class="status-value" id="status-wallets">1 wallet</span>
      </div>
    </div>

    <!-- MAIN CARD / HUD -->
    <main class="main-content">
      <section class="hud-card">
        <div class="hud-top-row">
          <div class="hud-labels">
            <div class="hud-meta">SPAWNENGINE · MESH HUD · v0.3</div>
            <h1 class="hud-title">SpawnEngine — Mesh HUD</h1>
            <p class="hud-subtitle">
              Modular mesh for creator coins, packs, XP streams & onchain quests.
            </p>
            <div class="hud-tags">
              <span class="tag">Base · Mesh ecosystems</span>
              <span class="tag tag-soft">Farcaster ready</span>
            </div>
          </div>
          <div class="hud-cta">
            <div class="mesh-layer-pill">
              <span class="dot-online"></span>
              Mesh layer · v0.3
            </div>
            <button class="btn-primary" id="btn-connect">
              Connect wallet
            </button>
          </div>
        </div>

        <!-- CENTER: STREAK RING (Gemini: core ritual) -->
        <div class="hud-middle">
          <div class="streak-module">
            <div class="streak-ring" id="streak-ring">
              <div class="streak-inner">
                <div class="streak-days" id="streak-days">1</div>
                <div class="streak-caption">day streak</div>
              </div>
            </div>
            <div class="streak-copy">
              <div class="streak-label">Daily ritual</div>
              <p id="streak-text">
                Keep the streak for 6 more days for a full weekly run.
              </p>
              <button class="btn-glow" id="btn-checkin">Check-in</button>
            </div>
          </div>

          <div class="hud-balances">
            <div class="stat-card">
              <div class="stat-label">XP BALANCE</div>
              <div class="stat-value" id="xp-balance">1575 XP</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">SPAWN TOKEN</div>
              <div class="stat-value" id="spawn-balance">497 SPN</div>
            </div>
          </div>
        </div>
      </section>

      <!-- VIEWS -->
      <section class="view active" id="view-home">
        <h2 class="view-title">Mesh snapshot</h2>
        <div class="view-grid">
          <div class="view-card">
            <div class="view-card-header">
              <span>XP orbit</span>
              <span class="pill-soft">Single player mesh</span>
            </div>
            <p class="view-text">
              Track your XP, streaks and daily rituals across Base. Every onchain
              action can be turned into a tiny pulse in the mesh.
            </p>
          </div>
          <div class="view-card">
            <div class="view-card-header">
              <span>Today’s signals</span>
              <span class="pill-soft" id="signals-pill">4 events</span>
            </div>
            <ul class="signal-list" id="signal-list"></ul>
          </div>
        </div>
      </section>

      <section class="view" id="view-loot">
        <h2 class="view-title">Loot & pulls</h2>
        <div class="segmented-control">
          <button class="seg-btn active" data-seg="packs">Packs</button>
          <button class="seg-btn" data-seg="pull-lab">Pull Lab</button>
        </div>
        <div class="seg-view active" id="seg-packs">
          <div class="view-card">
            <div class="view-card-header">
              <span>Creator packs</span>
              <span class="pill-soft">Mock data</span>
            </div>
            <p class="view-text">
              Preview how creator packs will dock into the mesh. Packs feed XP, relic
              fragments and streak boosts into your orbit.
            </p>
            <button class="btn-secondary" id="btn-open-pack">
              Simulate pack open
            </button>
          </div>
        </div>
        <div class="seg-view" id="seg-pull-lab">
          <div class="view-card">
            <div class="view-card-header">
              <span>Entropy window</span>
              <span class="pill-soft" id="entropy-pill">Stable</span>
            </div>
            <p class="view-text">
              Pull Lab watches mesh entropy and highlights "luck windows" for Mythic
              pulls. For now this is a visual mock wired to demo events.
            </p>
            <button class="btn-secondary" id="btn-entropy-ping">
              Trigger high-entropy pulse
            </button>
          </div>
        </div>
      </section>

      <section class="view" id="view-quests">
        <h2 class="view-title">Quests</h2>
        <div class="view-card">
          <div class="view-card-header">
            <span>Base mesh quests</span>
            <span class="pill-soft">Prototype</span>
          </div>
          <ul class="quest-list" id="quest-list">
            <!-- filled by JS -->
          </ul>
        </div>
      </section>

      <section class="view" id="view-mesh">
        <h2 class="view-title">Mesh explorer</h2>
        <div class="view-card">
          <div class="view-card-header">
            <span>Wallet mesh</span>
            <span class="pill-soft">Venice canvas</span>
          </div>
          <p class="view-text">
            The glowing background shows wallet-to-wallet flows generated from mock
            data. In v1 this will stream real creator coin, pack and XP movement.
          </p>
          <button class="btn-secondary" id="btn-mesh-full">
            Open full Mesh Explorer
          </button>
        </div>

        <div class="view-card">
          <div class="view-card-header">
            <span>Docked apps</span>
            <span class="pill-soft" id="docked-count">3 apps</span>
          </div>
          <ul class="dock-list" id="dock-list"></ul>
        </div>
      </section>
    </main>

    <!-- Bottom navigation -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-tab="home">
        <span class="nav-label">Home</span>
      </button>
      <button class="nav-item" data-tab="loot">
        <span class="nav-label">Loot</span>
      </button>
      <button class="nav-item" data-tab="quests">
        <span class="nav-label">Quests</span>
      </button>
      <button class="nav-item" data-tab="mesh">
        <span class="nav-label">Mesh</span>
      </button>
    </nav>

    <!-- Slide-out menu (Farcaster-style) -->
    <aside class="side-menu" id="side-menu">
      <div class="side-menu-header">
        <div class="mesh-avatar large">
          <span class="mesh-avatar-initial">S</span>
        </div>
        <div>
          <div class="mesh-id-handle">@spawniz</div>
          <div class="side-menu-sub">Tiny Legends & Foil Realms</div>
        </div>
      </div>
      <ul class="side-menu-list">
        <li>Referrals</li>
        <li>Bookmarks</li>
        <li>Earnings</li>
        <li>Collectibles</li>
        <li>Settings</li>
      </ul>
      <button class="side-menu-close" id="btn-menu-close">Close</button>
    </aside>
    <div class="side-menu-backdrop" id="side-menu-backdrop"></div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>