/* Root + reset */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
  color: #f5f5ff;
  background: #05050d;
}

body {
  display: flex;
  justify-content: center;
  align-items: stretch;
}

/* Background mesh layer */
#mesh-bg {
  position: fixed;
  inset: 0;
  overflow: hidden;
  z-index: 0;
  pointer-events: none;
}

#wallet-flow-canvas {
  width: 100%;
  height: 100%;
  filter: blur(10px) opacity(0.45);
}

/* App shell */
.app-shell {
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding: 16px 12px 24px;
}

/* Top header mini */
.top-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.profile-mini {
  display: flex;
  align-items: center;
  gap: 10px;
}

.avatar-mini {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  background: radial-gradient(circle at 20% 0%, #ff7ac7, #7a3bff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 13px;
}

.profile-mini-text {
  display: flex;
  flex-direction: column;
}

.profile-mini-handle {
  font-size: 13px;
  font-weight: 600;
}

.profile-mini-sub {
  font-size: 11px;
  opacity: 0.7;
}

.top-header-actions {
  display: flex;
  gap: 8px;
}

/* Icons */
.icon-btn {
  border: none;
  outline: none;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  background: radial-gradient(circle at 10% 0%, #202040, #101022);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.7);
}

.icon-gear,
.icon-menu {
  position: relative;
  display: block;
}

.icon-gear::before,
.icon-gear::after {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
}

.icon-gear::before {
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid #c0fffb;
}

.icon-gear::after {
  width: 20px;
  height: 20px;
  border-radius: 999px;
  border: 2px dashed rgba(192, 255, 251, 0.55);
}

.icon-menu::before,
.icon-menu::after {
  content: "";
  position: absolute;
  left: -8px;
  right: -8px;
  margin: auto;
  border-radius: 999px;
  height: 2px;
  background: #f5f5ff;
}

.icon-menu::before {
  top: -3px;
}

.icon-menu::after {
  top: 3px;
}

/* HUD wrapper */
.hud-wrapper {
  position: relative;
}

/* HUD card */
.hud-card {
  background: radial-gradient(circle at 0% 0%, #341774, #070316 60%);
  border-radius: 24px;
  padding: 14px 14px 80px;
  box-shadow:
    0 0 40px rgba(35, 12, 82, 0.85),
    0 0 0 1px rgba(255, 255, 255, 0.04);
}

/* HUD header inside card */
.hud-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 10px;
}

.hud-owner {
  display: flex;
  align-items: center;
  gap: 10px;
}

.avatar-large {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: radial-gradient(circle at 0% 0%, #ffb36b, #ff3e9e, #4e41ff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}

.owner-handle {
  font-size: 14px;
  font-weight: 600;
}

.owner-sub {
  font-size: 11px;
  opacity: 0.8;
}

.hud-status-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  background: radial-gradient(circle at 0% 0%, #14162d, #050812);
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: radial-gradient(circle, #4dff84, #0a4a25);
  box-shadow: 0 0 10px rgba(77, 255, 132, 0.9);
}

/* tags */
.hud-tag-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 10px;
}

.tag-pill {
  font-size: 11px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(204, 244, 255, 0.3);
  background: rgba(3, 8, 21, 0.7);
}

.tag-pill-secondary {
  border-style: dashed;
}

/* title row */
.hud-top-row {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 14px;
}

.hud-title h1 {
  margin: 0 0 4px;
  font-size: 18px;
}

.hud-title p {
  margin: 0;
  font-size: 12px;
  opacity: 0.85;
}

.primary-cta {
  border: none;
  outline: none;
  border-radius: 999px;
  padding: 10px 18px;
  font-size: 13px;
  font-weight: 600;
  color: #1a0420;
  background: linear-gradient(135deg, #ff9b6b, #ff4f9a);
  box-shadow:
    0 0 18px rgba(255, 159, 122, 0.8),
    0 0 36px rgba(255, 79, 154, 0.7);
}

.primary-cta.connected {
  background: linear-gradient(135deg, #24ffc5, #36dffd);
  color: #051216;
}

/* status grid */
.status-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
  margin-bottom: 10px;
}

.status-chip {
  border-radius: 14px;
  padding: 8px 10px;
  background: radial-gradient(circle at 0% 0%, #13152f, #060712);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.status-label {
  font-size: 10px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  opacity: 0.6;
  margin-bottom: 3px;
}

.status-value {
  font-size: 12px;
}

/* tabs */
.top-tab-strip {
  display: flex;
  gap: 8px;
  margin: 8px 0 10px;
}

.top-tab {
  flex: 1;
  border-radius: 999px;
  border: none;
  padding: 7px 0;
  font-size: 12px;
  background: radial-gradient(circle at 0% 0%, #101022, #050510);
  color: #d3d3ff;
  opacity: 0.8;
}

.top-tab.is-active {
  background: linear-gradient(135deg, #ff9b6b, #ff4f9a);
  color: #160013;
  font-weight: 600;
  opacity: 1;
}

/* bottom tabs */
.bottom-tabs {
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: 10px;
  display: flex;
  gap: 8px;
  padding: 4px;
  border-radius: 999px;
  background: rgba(2, 3, 10, 0.92);
  backdrop-filter: blur(18px);
  box-shadow: 0 -8px 25px rgba(0, 0, 0, 0.9);
}

.bottom-tab {
  flex: 1;
  border-radius: 999px;
  border: none;
  padding: 7px 0;
  font-size: 12px;
  color: #bfc2ff;
  background: transparent;
}

.bottom-tab.is-active {
  background: radial-gradient(circle at 0% 0%, #ff9b6b, #ff4f9a);
  color: #160013;
  font-weight: 600;
}

/* tab panels */
.tab-panel {
  display: none;
}

.tab-panel.is-active {
  display: block;
}

/* section header */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 6px;
  margin-bottom: 8px;
}

.section-title {
  font-size: 13px;
  font-weight: 600;
}

.section-pill {
  font-size: 11px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(7, 12, 35, 0.9);
}

/* snapshot cards */
.snapshot-grid {
  display: grid;
  grid-template-columns: minmax(0, 2fr) minmax(0, 1.3fr);
  gap: 8px;
  margin-bottom: 12px;
}

.snapshot-card {
  border-radius: 18px;
  padding: 10px 12px;
  background: radial-gradient(circle at 0% 0%, #06121f, #03040c);
  box-shadow: 0 0 0 1px rgba(112, 209, 255, 0.14);
}

.snapshot-card-main {
  box-shadow:
    0 0 0 1px rgba(208, 255, 255, 0.25),
    0 0 22px rgba(0, 255, 230, 0.22);
}

.snapshot-label {
  font-size: 10px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  opacity: 0.6;
}

.snapshot-value {
  margin-top: 4px;
  font-size: 18px;
  font-weight: 700;
}

.snapshot-sub {
  margin-top: 2px;
  font-size: 11px;
  opacity: 0.75;
}

/* streak */
.streak-row {
  display: grid;
  grid-template-columns: 120px minmax(0, 1fr);
  gap: 8px;
  align-items: center;
  margin-bottom: 14px;
}

.streak-gauge {
  display: flex;
  justify-content: center;
}

.streak-circle {
  width: 90px;
  height: 90px;
  border-radius: 999px;
  background: conic-gradient(
    from 270deg,
    #32ffd0 0deg,
    #ff9b6b 80deg,
    rgba(12, 18, 36, 1) 80deg
  );
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.streak-circle::after {
  content: "";
  position: absolute;
  inset: 7px;
  border-radius: 999px;
  background: radial-gradient(circle at 0% 0%, #050915, #02030a);
}

.streak-day {
  position: relative;
  font-size: 22px;
  font-weight: 700;
  z-index: 2;
  text-align: center;
}

.streak-caption {
  position: relative;
  margin-top: 22px;
  font-size: 9px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  opacity: 0.8;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 2;
}

.streak-copy {
  font-size: 12px;
}

.streak-label {
  font-size: 11px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  opacity: 0.7;
  margin-bottom: 4px;
}

.streak-copy p {
  margin: 0 0 8px;
}

.secondary-cta {
  border-radius: 999px;
  border: 1px solid rgba(108, 232, 255, 0.6);
  background: rgba(5, 9, 23, 0.9);
  color: #dafbff;
  padding: 8px 14px;
  font-size: 12px;
}

.secondary-cta:disabled {
  opacity: 0.45;
}

.full-width {
  width: 100%;
}

/* activity feed */
.activity-feed {
  border-radius: 18px;
  padding: 8px 10px 6px;
  background: rgba(4, 7, 21, 0.9);
  box-shadow: 0 0 0 1px rgba(79, 146, 255, 0.25);
  max-height: 160px;
  overflow-y: auto;
  margin-top: 8px;
}

.mesh-feed {
  margin-top: 12px;
}

.oracle-feed {
  margin-top: 10px;
  box-shadow: 0 0 0 1px rgba(255, 219, 120, 0.4);
}

.activity-header {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  margin-bottom: 4px;
}

.activity-sub {
  opacity: 0.6;
}

.activity-list {
  list-style: none;
  padding: 0;
  margin: 0;
  font-size: 11px;
}

.activity-list li {
  padding: 5px 0;
  border-top: 1px solid rgba(255, 255, 255, 0.04);
}

.activity-list li:first-child {
  border-top: none;
}

/* loot */
.segmented-toggle {
  display: flex;
  gap: 6px;
  border-radius: 999px;
  padding: 3px;
  background: rgba(9, 11, 28, 0.9);
  margin-bottom: 10px;
}

.mesh-filter-toggle {
  margin-top: 6px;
}

.segmented-btn {
  flex: 1;
  border-radius: 999px;
  border: none;
  font-size: 11px;
  padding: 6px 0;
  color: #bcc6ff;
  background: transparent;
}

.segmented-btn.is-active {
  background: radial-gradient(circle at 0% 0%, #36f8ff, #6a6dff);
  color: #040414;
  font-weight: 600;
}

.info-copy {
  font-size: 12px;
  margin-bottom: 8px;
}

.info-small {
  margin-top: 6px;
  font-size: 10px;
  opacity: 0.7;
}

.lab-list {
  margin: 0 0 10px;
  padding-left: 14px;
  font-size: 12px;
}

/* quests */
.quest-card {
  border-radius: 18px;
  padding: 10px 12px;
  background: radial-gradient(circle at 0% 0%, #0c1230, #050616);
  box-shadow: 0 0 0 1px rgba(106, 200, 255, 0.25);
  margin-bottom: 10px;
}

.quest-secondary {
  box-shadow:
    0 0 0 1px rgba(140, 119, 255, 0.4),
    0 0 18px rgba(118, 82, 255, 0.45);
}

.quest-main {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}

.quest-title {
  font-size: 13px;
  font-weight: 600;
}

.quest-reward {
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(43, 243, 189, 0.15);
  border: 1px solid rgba(140, 255, 223, 0.75);
}

.quest-desc {
  font-size: 11px;
  opacity: 0.85;
  margin: 0 0 8px;
}

/* mesh panel */
.mesh-explorer-card {
  border-radius: 18px;
  padding: 10px 12px;
  background: radial-gradient(circle at 0% 0%, rgba(13, 23, 60, 0.9), rgba(2, 4, 12, 0.97));
  box-shadow: 0 0 0 1px rgba(94, 191, 255, 0.3);
}

.mesh-explorer-copy {
  font-size: 11px;
  margin: 0 0 8px;
}

.mesh-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 6px 12px;
  align-items: center;
  font-size: 10px;
  margin-bottom: 6px;
}

.legend-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  margin-right: 4px;
}

.legend-coin {
  background: #00ffff;
}

.legend-pack {
  background: #c864ff;
}

.legend-burn {
  background: #ff6a32;
}

.legend-xp {
  background: #3cffc0;
}

.mesh-explorer-sub {
  font-size: 10px;
  opacity: 0.7;
  margin: 0;
}

.mini-link {
  display: block;
  margin-top: 8px;
  font-size: 11px;
  text-align: right;
  color: #8ee7ff;
  text-decoration: none;
}

/* Sheets (settings & account) */
.sheet {
  position: fixed;
  inset: 0;
  z-index: 20;
  background: rgba(1, 3, 10, 0.85);
  backdrop-filter: blur(18px);
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

.sheet-hidden {
  display: none;
}

.sheet-inner {
  width: 100%;
  max-width: 480px;
  background: #050511;
  border-radius: 22px 22px 0 0;
  padding: 10px 14px 18px;
  box-shadow: 0 -16px 32px rgba(0, 0, 0, 0.9);
}

.sheet-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.sheet-profile {
  display: flex;
  align-items: center;
  gap: 10px;
}

.sheet-title {
  font-size: 15px;
  font-weight: 600;
}

.sheet-header .sheet-title {
  margin-left: 4px;
}

.sheet-section {
  margin-bottom: 10px;
}

.sheet-section-title {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  opacity: 0.6;
  margin: 6px 4px;
}

.sheet-row {
  width: 100%;
  border-radius: 14px;
  border: none;
  padding: 10px 12px;
  margin-bottom: 6px;
  background: #0b0d18;
  color: #f3f3ff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 13px;
}

.sheet-row-danger {
  background: #200717;
  color: #ffcbd9;
}

.sheet-row-chevron {
  opacity: 0.5;
}

.sheet-close-btn {
  margin-top: 6px;
  width: 100%;
  border-radius: 999px;
  border: 1px solid rgba(168, 176, 255, 0.4);
  padding: 8px 0;
  background: #050515;
  color: #d6dcff;
  font-size: 12px;
}

/* settings detail */
.settings-detail {
  border-radius: 18px;
  padding: 10px 12px;
  background: #08091b;
  margin-top: 8px;
  font-size: 12px;
}

.settings-detail.hidden {
  display: none;
}

.detail-title {
  font-weight: 600;
  margin-bottom: 4px;
}

/* back button */
.sheet-back {
  border: none;
  border-radius: 999px;
  width: 30px;
  height: 30px;
  background: #0c0f1a;
  color: #f4f4ff;
  font-size: 18px;
}

/* small screens tweaks */
@media (max-width: 360px) {
  .hud-card {
    padding-bottom: 90px;
  }
  .snapshot-grid {
    grid-template-columns: 1fr;
  }
  .streak-row {
    grid-template-columns: 1fr;
  }
}